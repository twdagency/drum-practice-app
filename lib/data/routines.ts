/**
 * Pre-built Practice Routines
 * Curated guided practice sessions for different goals and skill levels
 */

import { PracticeRoutine } from '@/types/routine';

// Icon names that map to lucide-react icons
export type RoutineIconName = 'zap' | 'target' | 'dumbbell' | 'rocket' | 'guitar' | 'book-open' | 'flame';

export const PRACTICE_ROUTINES: PracticeRoutine[] = [
  // ============================================
  // QUICK SESSIONS (15 minutes or less)
  // ============================================
  {
    id: 'quick-warmup-10',
    name: '10-Minute Quick Warmup',
    description: 'A fast warmup to get your hands moving. Perfect before a gig, jam session, or when time is short.',
    category: 'warmup',
    difficulty: 'beginner',
    totalDuration: 10,
    icon: 'zap',
    tags: ['quick', 'warmup', 'daily'],
    goals: ['Loosen up hands and wrists', 'Establish steady tempo', 'Wake up muscle memory'],
    exercises: [
      {
        id: 'qw-1',
        presetId: 'beginner-single-stroke-quarter',
        name: 'Single Strokes - Quarter Notes',
        duration: 2,
        startBPM: 60,
        targetBPM: 80,
        focusArea: 'Hand warmup',
        instructions: 'Start slow and relaxed. Gradually increase tempo every 30 seconds.',
        tips: ['Keep grip loose', 'Let sticks bounce naturally', 'Breathe steadily'],
        restAfter: 15,
      },
      {
        id: 'qw-2',
        presetId: 'beginner-single-stroke-eighth',
        name: 'Single Strokes - Eighth Notes',
        duration: 2,
        startBPM: 70,
        targetBPM: 90,
        focusArea: 'Speed warmup',
        instructions: 'Maintain even volume between hands. Focus on stick heights.',
        tips: ['Match stick heights', 'Stay relaxed at higher tempos'],
        restAfter: 15,
      },
      {
        id: 'qw-3',
        presetId: 'beginner-double-stroke-quarter',
        name: 'Double Strokes',
        duration: 2,
        startBPM: 60,
        targetBPM: 80,
        focusArea: 'Rebound control',
        instructions: 'Let the stick bounce for the second stroke. Don\'t force it.',
        tips: ['Use wrist for first stroke', 'Fingers guide second stroke'],
        restAfter: 15,
      },
      {
        id: 'qw-4',
        presetId: 'beginner-paradiddle',
        name: 'Single Paradiddle',
        duration: 2,
        startBPM: 70,
        targetBPM: 90,
        focusArea: 'Coordination',
        instructions: 'RLRR LRLL - accent the first note of each group.',
        tips: ['Exaggerate accents', 'Keep non-accents soft'],
        restAfter: 15,
      },
      {
        id: 'qw-5',
        presetId: 'beginner-accent-pattern',
        name: 'Accent Control',
        duration: 2,
        startBPM: 80,
        focusArea: 'Dynamic control',
        instructions: 'Practice accenting different beats. Make the dynamics clear.',
        tips: ['Big height difference for accents', 'Stay relaxed'],
      },
    ],
  },

  // ============================================
  // BEGINNER ROUTINES
  // ============================================
  {
    id: 'beginner-fundamentals-30',
    name: '30-Minute Beginner Fundamentals',
    description: 'Build a solid foundation with essential rudiments and basic coordination. Perfect for new drummers or those returning after a break.',
    category: 'comprehensive',
    difficulty: 'beginner',
    totalDuration: 30,
    icon: 'target',
    tags: ['beginner', 'fundamentals', 'rudiments', 'daily'],
    goals: ['Master basic strokes', 'Develop consistent timing', 'Build hand endurance'],
    exercises: [
      {
        id: 'bf-1',
        presetId: 'beginner-single-stroke-quarter',
        name: 'Warmup: Single Strokes',
        duration: 3,
        startBPM: 60,
        targetBPM: 80,
        focusArea: 'Warmup',
        instructions: 'Start every practice with this. Focus on relaxation and even strokes.',
        tips: ['Shake out hands first', 'Start slower than you think you need'],
        restAfter: 30,
      },
      {
        id: 'bf-2',
        presetId: 'beginner-double-stroke-quarter',
        name: 'Double Stroke Roll',
        duration: 5,
        startBPM: 50,
        targetBPM: 70,
        focusArea: 'Rebound technique',
        instructions: 'The double stroke is the foundation of many rudiments. Master the bounce.',
        tips: ['Don\'t squeeze the stick', 'Let gravity help on the second stroke'],
        restAfter: 30,
      },
      {
        id: 'bf-3',
        presetId: 'beginner-paradiddle',
        name: 'Single Paradiddle',
        duration: 5,
        startBPM: 60,
        targetBPM: 80,
        focusArea: 'Hand coordination',
        instructions: 'RLRR LRLL - this pattern trains both hands equally.',
        tips: ['Count out loud: 1-2-3-4', 'Accent beat 1 of each group'],
        restAfter: 30,
      },
      {
        id: 'bf-4',
        presetId: 'beginner-accent-pattern',
        name: 'Accent Exercises',
        duration: 5,
        startBPM: 70,
        focusArea: 'Dynamic control',
        instructions: 'Practice accenting beats 1, then 2, then 3, then 4.',
        tips: ['Low taps, high accents', 'Make the difference dramatic'],
        restAfter: 30,
      },
      {
        id: 'bf-5',
        presetId: 'beginner-single-stroke-roll',
        name: 'Single Stroke Roll - 16th Notes',
        duration: 5,
        startBPM: 60,
        targetBPM: 80,
        focusArea: 'Speed building',
        instructions: 'Push your comfortable tempo. If you tense up, slow down.',
        tips: ['Relaxation is key', 'Speed comes from efficiency, not effort'],
        restAfter: 30,
      },
      {
        id: 'bf-6',
        presetId: 'coordination-basic-alternating',
        name: 'Basic Coordination',
        duration: 5,
        startBPM: 70,
        focusArea: 'Independence',
        instructions: 'Basic alternating pattern to end the session.',
        tips: ['Stay relaxed', 'Celebrate small improvements'],
        restAfter: 0,
      },
    ],
  },

  // ============================================
  // INTERMEDIATE ROUTINES
  // ============================================
  {
    id: 'intermediate-technique-45',
    name: '45-Minute Technique Builder',
    description: 'Take your technique to the next level with advanced rudiments, dynamics, and speed exercises.',
    category: 'technique',
    difficulty: 'intermediate',
    totalDuration: 45,
    icon: 'dumbbell',
    tags: ['intermediate', 'technique', 'rudiments', 'intensive'],
    goals: ['Improve stick control', 'Increase speed ceiling', 'Master complex rudiments'],
    prerequisites: ['Comfortable with single and double strokes', 'Can play paradiddles at 80+ BPM'],
    exercises: [
      {
        id: 'it-1',
        presetId: 'beginner-single-stroke-roll',
        name: 'Warmup: Singles',
        duration: 3,
        startBPM: 80,
        targetBPM: 120,
        focusArea: 'Warmup',
        instructions: 'Get the blood flowing. Push to 120 BPM by the end.',
        restAfter: 30,
      },
      {
        id: 'it-2',
        presetId: 'intermediate-double-stroke-roll',
        name: 'Double Stroke Roll Speed',
        duration: 5,
        startBPM: 80,
        targetBPM: 120,
        focusArea: 'Roll speed',
        instructions: 'Work on closing up the doubles. Stay relaxed at higher speeds.',
        tips: ['Wrist-finger combination', 'Don\'t tense shoulders'],
        restAfter: 30,
      },
      {
        id: 'it-3',
        presetId: 'intermediate-flam-tap',
        name: 'Flam Tap',
        duration: 6,
        startBPM: 70,
        targetBPM: 100,
        focusArea: 'Grace notes',
        instructions: 'The grace note should be noticeably softer than the main stroke.',
        tips: ['Grace note close to main', 'Different stick heights'],
        restAfter: 30,
      },
      {
        id: 'it-4',
        presetId: 'intermediate-flam-accent',
        name: 'Flam Accent',
        duration: 6,
        startBPM: 70,
        targetBPM: 100,
        focusArea: 'Flam control',
        instructions: 'Accent the flammed note, taps stay low.',
        tips: ['Three-note groups', 'Alternating lead hand'],
        restAfter: 30,
      },
      {
        id: 'it-5',
        presetId: 'intermediate-drag',
        name: 'Drag (Ruff)',
        duration: 6,
        startBPM: 60,
        targetBPM: 90,
        focusArea: 'Multiple bounces',
        instructions: 'Two grace notes before the main stroke.',
        tips: ['Let sticks bounce twice', 'Grace notes should buzz'],
        restAfter: 30,
      },
      {
        id: 'it-6',
        presetId: 'intermediate-paradiddle-diddle',
        name: 'Paradiddle-Diddle',
        duration: 6,
        startBPM: 70,
        targetBPM: 100,
        focusArea: 'Complex patterns',
        instructions: 'RLRRLL - accent the first note.',
        tips: ['Think in groups of 6', 'Double-double at the end'],
        restAfter: 30,
      },
      {
        id: 'it-7',
        presetId: 'intermediate-accent-tap',
        name: 'Accent-Tap Challenge',
        duration: 5,
        startBPM: 80,
        targetBPM: 110,
        focusArea: 'Dynamic contrast',
        instructions: 'Maximum contrast between accents and taps.',
        tips: ['Low position = piano', 'High position = forte'],
        restAfter: 30,
      },
      {
        id: 'it-8',
        presetId: 'intermediate-single-stroke-roll',
        name: 'Speed Finisher',
        duration: 5,
        startBPM: 100,
        targetBPM: 140,
        focusArea: 'Max speed',
        instructions: 'Push your limits. It\'s okay to struggle at the top tempo.',
        tips: ['Small motions at high speed', 'Breathe!'],
      },
    ],
  },

  // ============================================
  // SPEED BUILDING
  // ============================================
  {
    id: 'speed-builder-20',
    name: '20-Minute Speed Builder',
    description: 'Focused session on building hand speed. Uses progressive tempo increases to push your limits safely.',
    category: 'speed',
    difficulty: 'intermediate',
    totalDuration: 20,
    icon: 'rocket',
    tags: ['speed', 'technique', 'challenging'],
    goals: ['Increase maximum speed', 'Maintain quality at high tempos', 'Build endurance'],
    prerequisites: ['Can play singles at 100+ BPM comfortably'],
    exercises: [
      {
        id: 'sb-1',
        presetId: 'beginner-single-stroke-eighth',
        name: 'Warmup',
        duration: 3,
        startBPM: 80,
        targetBPM: 100,
        focusArea: 'Prep',
        instructions: 'Get loose. Don\'t skip this!',
        restAfter: 20,
      },
      {
        id: 'sb-2',
        presetId: 'beginner-single-stroke-roll',
        name: 'Singles - Pyramid Up',
        duration: 5,
        startBPM: 80,
        targetBPM: 140,
        focusArea: 'Progressive speed',
        instructions: 'Increase 10 BPM every minute. Stop if you lose control.',
        tips: ['Quality over speed', 'Note when tension creeps in'],
        restAfter: 30,
      },
      {
        id: 'sb-3',
        presetId: 'intermediate-double-stroke-roll',
        name: 'Doubles - Speed Work',
        duration: 5,
        startBPM: 70,
        targetBPM: 120,
        focusArea: 'Double speed',
        instructions: 'Increase 10 BPM every minute. Doubles build speed for singles.',
        tips: ['Finger control is key', 'Let the stick do the work'],
        restAfter: 30,
      },
      {
        id: 'sb-4',
        presetId: 'beginner-single-stroke-roll',
        name: 'Singles - Near Max',
        duration: 4,
        startBPM: 120,
        targetBPM: 160,
        focusArea: 'Push limits',
        instructions: 'Start at 80% of your max. Push to 100%+ by end.',
        tips: ['It should feel uncomfortable', 'Small, efficient motions'],
        restAfter: 20,
      },
      {
        id: 'sb-5',
        presetId: 'beginner-single-stroke-eighth',
        name: 'Cooldown',
        duration: 3,
        startBPM: 70,
        focusArea: 'Recovery',
        instructions: 'Slow down and relax. Let your muscles recover.',
        tips: ['Shake out hands', 'Stretch if needed'],
      },
    ],
  },

  // ============================================
  // GENRE-SPECIFIC: ROCK
  // ============================================
  {
    id: 'rock-essentials-30',
    name: '30-Minute Rock Essentials',
    description: 'Master the beats and fills that drive rock music. From classic patterns to powerful fills.',
    category: 'genre',
    difficulty: 'intermediate',
    totalDuration: 30,
    icon: 'guitar',
    tags: ['rock', 'beats', 'fills', 'genre'],
    goals: ['Play essential rock beats', 'Execute powerful fills', 'Develop groove'],
    exercises: [
      {
        id: 're-1',
        presetId: 'beginner-single-stroke-eighth',
        name: 'Warmup',
        duration: 3,
        startBPM: 90,
        focusArea: 'Prep',
        instructions: 'Quick warmup before the rock grooves.',
        restAfter: 20,
      },
      {
        id: 're-2',
        presetId: 'famous-beat-we-will-rock-you',
        name: 'We Will Rock You Beat',
        duration: 4,
        startBPM: 80,
        focusArea: 'Iconic pattern',
        instructions: 'STOMP STOMP CLAP - the most recognizable beat in rock.',
        tips: ['Heavy on beats 1 and 2', 'Big backbeat on 3'],
        restAfter: 20,
      },
      {
        id: 're-3',
        presetId: 'beat-basic-rock',
        name: 'Standard Rock Beat',
        duration: 5,
        startBPM: 100,
        targetBPM: 120,
        focusArea: 'Foundation',
        instructions: 'Hi-hat on 8ths, snare on 2 and 4, kick on 1 and 3.',
        tips: ['Lock in with the metronome', 'Snare is the backbone'],
        restAfter: 20,
      },
      {
        id: 're-4',
        presetId: 'beat-rock-variation',
        name: 'Rock Beat Variations',
        duration: 5,
        startBPM: 100,
        focusArea: 'Vocabulary',
        instructions: 'Add kick variations while keeping the hi-hat and snare steady.',
        tips: ['Kick drives the energy', 'Keep snare consistent'],
        restAfter: 20,
      },
      {
        id: 're-5',
        presetId: 'fill-basic-8th',
        name: 'Basic Rock Fills',
        duration: 5,
        startBPM: 90,
        focusArea: 'Fills',
        instructions: 'Practice the classic descending tom fill.',
        tips: ['Lead into beat 1', 'Match fill volume to groove'],
        restAfter: 20,
      },
      {
        id: 're-6',
        presetId: 'fill-16th-note',
        name: '16th Note Fills',
        duration: 5,
        startBPM: 80,
        targetBPM: 100,
        focusArea: 'Advanced fills',
        instructions: 'Faster fills for more intensity.',
        tips: ['Stay relaxed', 'End fills cleanly'],
        restAfter: 20,
      },
      {
        id: 're-7',
        presetId: 'beat-basic-rock',
        name: 'Groove Finisher',
        duration: 3,
        startBPM: 110,
        focusArea: 'Performance',
        instructions: 'Put it all together. Play the beat and throw in fills.',
        tips: ['Feel the groove', 'Play like you\'re on stage'],
      },
    ],
  },

  // ============================================
  // RUDIMENT MASTERY
  // ============================================
  {
    id: 'rudiment-mastery-40',
    name: '40-Minute Rudiment Deep Dive',
    description: 'Intensive focus on the 40 essential rudiments. Each session works on a different group.',
    category: 'technique',
    difficulty: 'advanced',
    totalDuration: 40,
    icon: 'book-open',
    tags: ['rudiments', 'advanced', 'technique', 'intensive'],
    goals: ['Master essential rudiments', 'Apply rudiments musically', 'Build independence'],
    prerequisites: ['Strong single and double strokes', 'Familiar with basic rudiments'],
    exercises: [
      {
        id: 'rm-1',
        presetId: 'beginner-single-stroke-roll',
        name: 'Warmup: Single Stroke Roll',
        duration: 3,
        startBPM: 80,
        targetBPM: 120,
        focusArea: 'Foundation',
        instructions: 'The single stroke roll is the base of everything.',
        restAfter: 20,
      },
      {
        id: 'rm-2',
        presetId: 'intermediate-double-stroke-roll',
        name: 'Double Stroke Roll',
        duration: 5,
        startBPM: 70,
        targetBPM: 110,
        focusArea: 'Roll foundation',
        instructions: 'Focus on even doubles at all speeds.',
        tips: ['Wrist for slow, fingers for fast'],
        restAfter: 20,
      },
      {
        id: 'rm-3',
        presetId: 'intermediate-flam-tap',
        name: 'Flam Tap',
        duration: 5,
        startBPM: 70,
        targetBPM: 100,
        focusArea: 'Flam family',
        instructions: 'Master the grace note placement.',
        restAfter: 20,
      },
      {
        id: 'rm-4',
        presetId: 'intermediate-flam-accent',
        name: 'Flam Accent',
        duration: 5,
        startBPM: 70,
        targetBPM: 100,
        focusArea: 'Flam dynamics',
        instructions: 'Three-note groups with alternating lead.',
        restAfter: 20,
      },
      {
        id: 'rm-5',
        presetId: 'intermediate-flam-paradiddle',
        name: 'Flam Paradiddle',
        duration: 5,
        startBPM: 60,
        targetBPM: 90,
        focusArea: 'Combination',
        instructions: 'Flam + paradiddle = powerful combination.',
        restAfter: 20,
      },
      {
        id: 'rm-6',
        presetId: 'intermediate-drag',
        name: 'Single Drag Tap',
        duration: 5,
        startBPM: 60,
        targetBPM: 90,
        focusArea: 'Drag family',
        instructions: 'Two grace notes before the tap.',
        restAfter: 20,
      },
      {
        id: 'rm-7',
        presetId: 'rudiment-single-ratamacue',
        name: 'Single Ratamacue',
        duration: 5,
        startBPM: 60,
        targetBPM: 90,
        focusArea: 'Complex rudiment',
        instructions: 'Drag followed by triplet.',
        restAfter: 20,
      },
      {
        id: 'rm-8',
        presetId: 'intermediate-paradiddle-diddle',
        name: 'Paradiddle-Diddle',
        duration: 5,
        startBPM: 70,
        targetBPM: 100,
        focusArea: 'Extended patterns',
        instructions: 'Six-note grouping for jazz and funk.',
        tips: ['Great for triplet feels'],
      },
    ],
  },

  // ============================================
  // CHALLENGE ROUTINE
  // ============================================
  {
    id: 'endurance-challenge-25',
    name: '25-Minute Endurance Challenge',
    description: 'Push your limits with this high-intensity routine. Not for the faint of heart!',
    category: 'challenge',
    difficulty: 'advanced',
    totalDuration: 25,
    icon: 'flame',
    tags: ['challenge', 'endurance', 'advanced', 'intensive'],
    goals: ['Build stamina', 'Maintain quality under fatigue', 'Mental toughness'],
    prerequisites: ['Can play singles at 140+ BPM', 'Strong double strokes', 'Good endurance base'],
    exercises: [
      {
        id: 'ec-1',
        presetId: 'beginner-single-stroke-roll',
        name: 'Quick Warmup',
        duration: 2,
        startBPM: 100,
        targetBPM: 120,
        focusArea: 'Prep',
        instructions: 'Fast warmup - we\'re going hard today.',
        restAfter: 15,
      },
      {
        id: 'ec-2',
        presetId: 'beginner-single-stroke-roll',
        name: 'Single Stroke Blast',
        duration: 5,
        startBPM: 140,
        targetBPM: 180,
        focusArea: 'Max speed endurance',
        instructions: 'Hold 140 for 2 min, then push higher. Your arms will burn.',
        tips: ['Breathe deeply', 'Shake out when needed'],
        restAfter: 30,
      },
      {
        id: 'ec-3',
        presetId: 'intermediate-double-stroke-roll',
        name: 'Double Stroke Marathon',
        duration: 5,
        startBPM: 100,
        targetBPM: 140,
        focusArea: 'Roll endurance',
        instructions: 'Sustained doubles. Don\'t let quality drop.',
        tips: ['Efficiency over power', 'Let sticks work for you'],
        restAfter: 30,
      },
      {
        id: 'ec-4',
        presetId: 'intermediate-paradiddle-diddle',
        name: 'Paradiddle-Diddle Grind',
        duration: 5,
        startBPM: 90,
        targetBPM: 130,
        focusArea: 'Complex endurance',
        instructions: 'Sustained six-stroke pattern at high speeds.',
        tips: ['Stay relaxed through fatigue'],
        restAfter: 30,
      },
      {
        id: 'ec-5',
        presetId: 'intermediate-accent-tap',
        name: 'Accent Challenge',
        duration: 4,
        startBPM: 100,
        targetBPM: 140,
        focusArea: 'Control under fatigue',
        instructions: 'Maintain dynamic contrast even when tired.',
        tips: ['This is where mental toughness matters'],
        restAfter: 20,
      },
      {
        id: 'ec-6',
        presetId: 'beginner-single-stroke-eighth',
        name: 'Cooldown',
        duration: 4,
        startBPM: 60,
        focusArea: 'Recovery',
        instructions: 'Slow down. You earned this cooldown.',
        tips: ['Stretch your forearms', 'Hydrate'],
      },
    ],
  },
];

// Helper function to get routine by ID
export function getRoutineById(id: string): PracticeRoutine | undefined {
  return PRACTICE_ROUTINES.find(r => r.id === id);
}

// Helper function to get routines by category
export function getRoutinesByCategory(category: string): PracticeRoutine[] {
  return PRACTICE_ROUTINES.filter(r => r.category === category);
}

// Helper function to get routines by difficulty
export function getRoutinesByDifficulty(difficulty: string): PracticeRoutine[] {
  return PRACTICE_ROUTINES.filter(r => r.difficulty === difficulty);
}

// Helper function to get recommended routines for a user level
export function getRecommendedRoutines(userLevel: number): PracticeRoutine[] {
  if (userLevel <= 3) {
    return PRACTICE_ROUTINES.filter(r => r.difficulty === 'beginner');
  } else if (userLevel <= 6) {
    return PRACTICE_ROUTINES.filter(r => r.difficulty === 'beginner' || r.difficulty === 'intermediate');
  }
  return PRACTICE_ROUTINES;
}

